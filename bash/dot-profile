# Homebrew environment
BREW="/opt/homebrew/bin/brew"
if [ -x "$BREW" ]; then
	eval "$($BREW shellenv)"
fi

#
# PATH customization
#

# Add a directory to PATH (prepend), if it exists and isn't already present
path_prepend() {
    [ -d "$1" ] || return 0
    case ":$PATH:" in
        *":$1:"*) ;;                 # already there
        *) PATH="$1:$PATH" ;;
    esac
}

# Directories to add (highest priority last)
for dir in \
    "/Applications/Emacs.app/Contents/MacOS/bin" \
    "/Library/Frameworks/Python.framework/Versions/3.13/bin" \
    "$HOME/bin" \
    "$HOME/.local/bin"
do
    path_prepend "$dir"
done
export PATH

# MATPATH and INFOPATH
if [ -d "/opt/local/man" ]; then
    MANPATH="/opt/local/man:$MANPATH"
fi
if [ -d "/usr/local/man" ]; then
    MANPATH="/usr/local/man:$MANPATH"
fi
if [ -d "/usr/local/mysql/man" ]; then
    MANPATH="/usr/local/mysql/man:$MANPATH"
fi
export MANPATH

# Prepend info directory
if [ -d "$HOME/.local/share/info" ]; then
    INFOPATH="$HOME/.local/share/info:$INFOPATH"
fi
export INFOPATH

# DaisyDSP and HotHouse libraries
export LIBDAISY_DIR="$HOME/repos/coding-sound/DaisyExamples/libDaisy"
export DAISYSP_DIR="$HOME/repos/coding-sound/DaisyExamples/DaisySP"
export HOTHOUSE_DIR="$HOME/repos/coding-sound/HothouseExamples"

# Locale and behavior settings
export LC_CTYPE=en_US.UTF-8
export COPYFILE_DISABLE=true
export BASH_SILENCE_DEPRECATION_WARNING=1
